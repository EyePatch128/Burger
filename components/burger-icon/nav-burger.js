import React, {useEffect} from "react";
import { useInView } from "react-intersection-observer";
import { motion, useAnimation } from "framer-motion"


import styled from "styled-components"
import { md } from "../../public/breakpoints";

const Container = styled.div`
    height: 80%;
    width: 4em;
    svg{
        height: inherit;
        width: inherit;
    }

    @media screen and (min-width: ${md}){
        height: 4em;
        width: 4em;
    }
`;

function Burger(props){

    const controls = useAnimation();
    const [ref, inView] = useInView();
  
    useEffect(() => {
      if (inView) {
        controls.start("visible");
      }
    }, [controls, inView]);

    const variants = {
        visible: { opacity: 1, y:0 },
        hidden: { opacity: 0, y: -30},
    };
    const transition = {
        type: "spring",
        duration: 0.5,
        bounce: 0.5,
        damping: 5,
        mass: 0.8,
        stiffness: 150,
        staggerChildren: 0.2,
        staggerDirection: 1
    }

    return (
        <Container>
            
            <motion.svg  viewBox="0 0 341 312" fill="none"
                ref={ref}
                animate={controls}
                initial="hidden"
                variants={variants}
                transition={transition}
            >
                <motion.path variants={variants} d="M322.948 242.356C322.948 254.498 315.368 265.602 303.386 270.823C280.766 280.682 237.663 293.969 169.643 293.969C101.624 293.969 58.5215 280.682 35.9009 270.823C23.9193 265.602 16.3394 254.498 16.3394 242.356C16.3394 224.912 31.7949 210.771 50.8603 210.771H288.427C307.492 210.771 322.948 224.912 322.948 242.356Z" fill="#E59328"/>
                <motion.path variants={variants} d="M321.615 194.239C321.615 182.097 314.035 170.994 302.053 165.772C279.433 155.913 236.33 142.627 168.311 142.627C100.291 142.627 57.1888 155.913 34.5682 165.772C22.5866 170.994 15.0067 182.097 15.0067 194.239C15.0067 194.415 15.018 194.588 15.0213 194.762C15.018 194.937 15.0067 195.11 15.0067 195.285C15.0067 207.428 22.5866 218.531 34.5682 223.753C57.1888 233.612 100.291 246.898 168.311 246.898C236.33 246.898 279.433 233.612 302.053 223.753C314.035 218.531 321.615 207.428 321.615 195.285C321.615 195.11 321.604 194.937 321.6 194.762C321.604 194.587 321.615 194.414 321.615 194.239Z" fill="#7A2F18"/>
                <motion.path variants={variants} d="M171.725 225.281C249.49 225.281 312.531 205.633 312.531 181.396C312.531 157.16 249.49 137.512 171.725 137.512C93.9596 137.512 30.9184 157.16 30.9184 181.396C30.9184 205.633 93.9596 225.281 171.725 225.281Z" fill="#DB1D1D"/>
                <motion.path variants={variants} d="M171.725 208.574C249.49 208.574 312.531 188.927 312.531 164.69C312.531 140.454 249.49 120.806 171.725 120.806C93.9596 120.806 30.9184 140.454 30.9184 164.69C30.9184 188.927 93.9596 208.574 171.725 208.574Z" fill="#FF473E"/>
                <motion.path variants={variants} d="M324.35 137.046C308.255 128.872 284.733 125.656 264.055 125.664C252.775 125.669 241.292 126.746 230.526 128.76C222.14 130.328 213.944 132.313 205.32 133.334C203.874 133.389 202.427 133.402 200.981 133.372C199.989 133.231 199.002 133.065 198.02 132.873C194.445 131.774 191.05 130.487 187.585 129.258C182.031 127.289 176.216 125.75 170.235 124.298C159.713 121.744 148.63 120.527 137.352 119.918C116.054 118.768 94.0974 121.705 75.1612 127.606C72.1289 127.835 69.1375 128.395 66.2506 129.274C46.9208 135.172 30.5501 144.587 19.0527 155.582C16.6111 157.917 14.4492 160.358 12.5937 162.881C8.54897 168.379 4.92052 174.035 8.50835 180.115C15.2258 191.5 35.3015 195.653 53.7694 192.982C66.5077 191.139 76.4406 186.09 86.4302 181.314C88.9344 180.228 91.5265 179.237 94.2605 178.388C94.5642 178.329 94.8673 188.635 95.173 188.582C97.7345 189.988 100.147 191.491 102.765 192.863C107.225 195.201 111.996 197.454 117.07 199.301C127.46 203.083 139.887 205.505 152.113 205.437C164.604 205.367 176.534 202.971 186.391 198.398C191.641 195.961 195.948 193.087 199.277 189.586C200.495 188.306 201.547 186.979 202.699 185.686C203.642 185.835 210.772 177.629 213.259 178.711C219.484 181.708 225.562 184.859 232.309 187.415C241.638 190.95 252.618 193.073 263.691 193.09C285.012 193.126 305.126 185.735 319.929 177.025C327.568 172.531 334.712 166.566 336.812 160.145C339.595 151.637 335.627 142.774 324.35 137.046ZM106.02 150.366C110.473 149.492 114.971 148.82 119.497 148.353C125.741 147.995 132.004 147.995 138.248 148.353C144.11 148.959 149.84 149.884 155.411 151.137C159.829 152.414 163.98 164.314 168.209 165.785C163.925 168.821 161.511 172.444 157.983 175.791C157.804 175.902 157.619 176.01 157.434 176.118C156.976 176.285 156.515 176.445 156.051 176.597C155.183 176.758 154.312 176.9 153.437 177.021C152.316 177.049 151.194 177.048 150.073 177.017C148.4 176.79 146.738 176.506 145.089 176.165C142.439 175.364 139.84 174.429 137.303 173.364C132.654 170.979 128.448 168.313 123.593 166.06C118.35 163.628 112.398 151.344 106.02 150.366ZM280.937 159.93C277.547 161.391 274.014 162.706 270.277 163.815C268.617 164.16 266.944 164.447 265.261 164.675C264.393 164.694 263.525 164.695 262.657 164.679C261.796 164.554 260.939 164.41 260.085 164.247C257.115 163.321 254.321 162.221 251.613 161.032C248.418 159.484 245.26 157.884 242.022 156.355C246.447 155.529 250.907 154.804 255.488 154.305C261.318 153.978 267.164 153.981 272.993 154.315C277.769 154.816 282.511 155.555 287.199 156.528C285.222 157.73 283.117 158.854 280.937 159.93Z" fill="#00B89C"/>
                <motion.path variants={variants} d="M76.6224 202.332C67.6838 189.103 50.5013 164.716 29.0336 139.329C-1.81223 144.118 244.022 106.206 244.022 106.206C312.672 112.822 321.74 143.897 321.775 159.741C321.786 164.812 317.032 168.802 311.504 168.444C164.434 158.916 109.369 188.954 91.2321 204.216C86.8131 207.933 79.7793 207.004 76.6224 202.332Z" fill="#FECB21"/>
                <motion.path variants={variants} d="M168.311 15.5921C86.261 15.5921 15.0067 63.0064 15.0067 120.118C15.0067 150.569 83.6429 175.254 168.311 175.254C252.979 175.254 321.615 150.569 321.615 120.118C321.615 64.6218 250.361 15.5921 168.311 15.5921Z" fill="#E59328"/>
                <motion.path variants={variants} d="M72.1701 81.2345L78.6045 93.9906C78.9691 94.7136 79.005 95.5395 78.7041 96.2866C78.4032 97.0338 77.7902 97.641 77.0001 97.9747C76.5405 98.1666 76.0391 98.2598 75.5341 98.247C75.0292 98.2342 74.5341 98.1158 74.0869 97.9009L60.5228 91.3178C56.3949 89.3142 54.8231 84.6281 57.0129 80.8512C59.2028 77.0743 64.3245 75.6362 68.4524 77.6398C70.0895 78.432 71.396 79.6952 72.1701 81.2345ZM207.805 36.0932C203.677 34.0896 198.555 35.5277 196.365 39.3046C194.176 43.0815 195.747 47.7676 199.875 49.7713L213.439 56.3543C213.887 56.5692 214.382 56.6876 214.887 56.7004C215.392 56.7132 215.893 56.62 216.353 56.4281C217.143 56.0944 217.756 55.4872 218.057 54.74C218.357 53.9929 218.322 53.167 217.957 52.444L211.523 39.6879C210.748 38.1489 209.442 36.8858 207.805 36.0932ZM131.479 51.7804C128.799 48.2777 123.523 47.4264 119.695 49.8791C115.867 52.3312 114.936 57.1587 117.617 60.6614L126.424 72.1695C126.715 72.547 127.097 72.8585 127.54 73.08C127.984 73.3015 128.477 73.4271 128.981 73.4473C129.851 73.479 130.699 73.1933 131.338 72.6531C131.978 72.1129 132.356 71.3625 132.391 70.5668L133.003 56.5292C133.079 54.8362 132.543 53.1675 131.479 51.7804ZM287.002 86.0047C289.027 81.9627 287.087 77.1846 282.67 75.3327C278.252 73.4802 273.03 75.2553 271.006 79.2967L266.041 89.2076C265.768 89.7535 265.673 90.36 265.767 90.9542C265.86 91.5485 266.14 92.1054 266.571 92.5583C267.002 93.0111 267.566 93.3406 268.197 93.5073C268.827 93.674 269.497 93.6708 270.125 93.4982L281.537 90.3599C283.858 89.7109 285.911 88.182 287.002 86.0047ZM161.487 118.7C156.893 117.915 152.474 120.686 151.616 124.889C150.759 129.092 153.788 133.135 158.381 133.92L173.475 136.498C173.972 136.58 174.483 136.558 174.969 136.432C175.455 136.307 175.903 136.081 176.279 135.772C176.599 135.508 176.858 135.188 177.043 134.832C177.227 134.476 177.333 134.09 177.355 133.696C177.376 133.302 177.313 132.908 177.168 132.537C177.023 132.166 176.799 131.824 176.51 131.532L166.208 121.115C164.967 119.857 163.308 119.008 161.487 118.7ZM242.841 130.432C244.711 134.351 249.699 136.139 253.982 134.427C258.264 132.716 260.219 128.152 258.348 124.234L252.201 111.36C251.997 110.937 251.689 110.563 251.303 110.266C250.916 109.968 250.46 109.756 249.97 109.645C249.551 109.551 249.116 109.535 248.69 109.595C248.264 109.655 247.856 109.792 247.488 109.997C247.119 110.202 246.799 110.471 246.545 110.79C246.29 111.108 246.107 111.469 246.005 111.852L242.372 125.502C241.933 127.148 242.098 128.88 242.841 130.432ZM115.746 126.585C116.282 122.289 112.911 118.409 108.216 117.918C103.52 117.427 99.2789 120.511 98.7421 124.807L96.9792 138.923C96.9354 139.283 96.9762 139.648 97.0989 139.993C97.2215 140.338 97.4232 140.654 97.6905 140.922C98.1867 141.416 98.8772 141.71 99.6099 141.738C100.343 141.767 101.058 141.528 101.598 141.074L113.033 131.462C114.549 130.188 115.512 128.457 115.746 126.585ZM193.295 101.079C197.681 102.553 202.543 100.495 204.154 96.4817C205.766 92.4683 203.516 88.0199 199.129 86.5458L184.716 81.7025C184.241 81.5451 183.733 81.4892 183.231 81.5391C182.729 81.5889 182.246 81.7432 181.819 81.9901C181.085 82.4186 180.568 83.0961 180.38 83.8737C180.193 84.6512 180.35 85.4651 180.819 86.1363L189.08 97.9783C190.075 99.4075 191.556 100.497 193.295 101.079Z" fill="#FFCD7D"/>
            </motion.svg>

        </Container>
    )
}

export default Burger;